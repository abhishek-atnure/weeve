{"ast":null,"code":"import _regeneratorRuntime from\"D:/weeve/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/weeve/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/weeve/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./dataServices.css\";import ButtonList from\"../button-list/ButtonList\";import ServiceList from\"../serviceList/serviceList\";import search from\"./serach-icon.svg\";import filter from\"./filter-icon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DataServices(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),services=_useState2[0],setServices=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var fetchServices=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/services\");case 3:data=_context.sent;_context.next=6;return data.json();case 6:response=_context.sent;setServices(response);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchServices(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchServices();},[alert]);var handleSearch=function handleSearch(){var searchTerm=prompt(\"Enter search term\");if(!searchTerm)return;var newServices=services.filter(function(element){return element.name.toLowerCase().includes(searchTerm);});console.log(newServices);setServices(newServices);};return/*#__PURE__*/_jsxs(\"div\",{className:\"data-services\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Data Services\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click on the rocket to deploy the data service you would like to send down to your weeve Edge-Nodes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-search-div\",children:[/*#__PURE__*/_jsx(\"abbr\",{title:\"Search for any service\",children:/*#__PURE__*/_jsx(\"img\",{id:\"search\",onClick:handleSearch,src:search,alt:\"search\"})}),/*#__PURE__*/_jsx(\"img\",{id:\"filter\",src:filter,alt:\"filter\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btns-div\",children:/*#__PURE__*/_jsx(ButtonList,{})}),/*#__PURE__*/_jsx(ServiceList,{services:services,alert:alert,setAlert:setAlert})]});}export default DataServices;","map":{"version":3,"sources":["D:/weeve/client/src/features/dataServices/DataServices.js"],"names":["React","useState","useEffect","ButtonList","ServiceList","DataServices","services","setServices","alert","setAlert","fetchServices","fetch","data","json","response","console","log","message","handleSearch","searchTerm","prompt","newServices","filter","element","name","toLowerCase","includes","search"],"mappings":"+YAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,C,oKAIA,QAASC,CAAAA,YAAT,EAAwB,CACtB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,aAAa,0FAAG,2LAECC,CAAAA,KAAK,CAAC,WAAD,CAFN,QAEZC,IAFY,qCAGKA,CAAAA,IAAI,CAACC,IAAL,EAHL,QAGZC,QAHY,eAIlBP,WAAW,CAACO,QAAD,CAAX,CAJkB,iFAMlBC,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EANkB,qEAAH,kBAAbP,CAAAA,aAAa,0CAAnB,CASAR,SAAS,CAAC,UAAM,CACdQ,aAAa,GACd,CAFQ,CAEN,CAACF,KAAD,CAFM,CAAT,CAIA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIC,CAAAA,UAAU,CAAGC,MAAM,CAAC,mBAAD,CAAvB,CACA,GAAI,CAACD,UAAL,CAAiB,OACjB,GAAIE,CAAAA,WAAW,CAAGf,QAAQ,CAACgB,MAAT,CAAgB,SAACC,OAAD,CAAa,CAC7C,MAAOA,CAAAA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCP,UAApC,CAAP,CACD,CAFiB,CAAlB,CAGAJ,OAAO,CAACC,GAAR,CAAYK,WAAZ,EACAd,WAAW,CAACc,WAAD,CAAX,CACD,CARD,CAUA,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,0CADF,cAEE,0HAFF,cAME,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAM,KAAK,CAAC,wBAAZ,uBACE,YAAK,EAAE,CAAC,QAAR,CAAiB,OAAO,CAAEH,YAA1B,CAAwC,GAAG,CAAES,MAA7C,CAAqD,GAAG,CAAC,QAAzD,EADF,EADF,cAIE,YAAK,EAAE,CAAC,QAAR,CAAiB,GAAG,CAAEL,MAAtB,CAA8B,GAAG,CAAC,QAAlC,EAJF,GANF,cAYE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,UAAD,IADF,EAZF,cAeE,KAAC,WAAD,EAAa,QAAQ,CAAEhB,QAAvB,CAAiC,KAAK,CAAEE,KAAxC,CAA+C,QAAQ,CAAEC,QAAzD,EAfF,GADF,CAmBD,CAED,cAAeJ,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./dataServices.css\";\r\nimport ButtonList from \"../button-list/ButtonList\";\r\nimport ServiceList from \"../serviceList/serviceList\";\r\nimport search from \"./serach-icon.svg\";\r\nimport filter from \"./filter-icon.svg\";\r\n\r\nfunction DataServices() {\r\n  const [services, setServices] = useState([]);\r\n  const [alert, setAlert] = useState(\"\");\r\n\r\n  const fetchServices = async () => {\r\n    try {\r\n      const data = await fetch(\"/services\");\r\n      const response = await data.json();\r\n      setServices(response);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchServices();\r\n  }, [alert]);\r\n\r\n  const handleSearch = () => {\r\n    let searchTerm = prompt(\"Enter search term\");\r\n    if (!searchTerm) return;\r\n    let newServices = services.filter((element) => {\r\n      return element.name.toLowerCase().includes(searchTerm);\r\n    });\r\n    console.log(newServices);\r\n    setServices(newServices);\r\n  };\r\n\r\n  return (\r\n    <div className=\"data-services\">\r\n      <h1>Your Data Services</h1>\r\n      <p>\r\n        Click on the rocket to deploy the data service you would like to send\r\n        down to your weeve Edge-Nodes\r\n      </p>\r\n      <div className=\"filter-search-div\">\r\n        <abbr title=\"Search for any service\">\r\n          <img id=\"search\" onClick={handleSearch} src={search} alt=\"search\" />\r\n        </abbr>\r\n        <img id=\"filter\" src={filter} alt=\"filter\" />\r\n      </div>\r\n      <div className=\"btns-div\">\r\n        <ButtonList />\r\n      </div>\r\n      <ServiceList services={services} alert={alert} setAlert={setAlert} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DataServices;\r\n"]},"metadata":{},"sourceType":"module"}