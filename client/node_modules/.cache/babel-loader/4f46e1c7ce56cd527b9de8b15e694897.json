{"ast":null,"code":"import _regeneratorRuntime from\"D:/weeve/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/weeve/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import\"./service.css\";import rocket from\"./rocket-icon.svg\";import del from\"./delete-icon.svg\";import pen from\"./menu-designer.svg\";import menu from\"./menu-icon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Service(_ref){var element=_ref.element,setAlert=_ref.setAlert;var update=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name){var modified,body,data,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:modified=new Date().toLocaleString().substring(0,8);console.log(modified);body={name:name,modified:modified};_context.next=5;return fetch(\"/services/\".concat(element.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:data=_context.sent;_context.next=8;return data.json();case 8:response=_context.sent;console.log(response);case 10:case\"end\":return _context.stop();}}},_callee);}));return function update(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(){var value=prompt(\"Enter service name...\");if(!value)return;update(value);alert(\"value updated\");setAlert(value);};var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/services/\".concat(element.id),{method:\"DELETE\"});case 2:data=_context2.sent;_context2.next=5;return data.json();case 5:response=_context2.sent;console.log(response);setAlert(element.id);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDelete(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"service\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"service-name\",children:/*#__PURE__*/_jsx(\"h4\",{children:element.name.toUpperCase()})}),/*#__PURE__*/_jsx(\"div\",{className:\"service-created\",children:/*#__PURE__*/_jsx(\"h5\",{children:element.created.substring(0,10)})}),/*#__PURE__*/_jsx(\"div\",{className:\"service-modified\",children:/*#__PURE__*/_jsx(\"h5\",{children:element.modified===null?\"-\":element.modified.substring(0,10)})}),/*#__PURE__*/_jsx(\"div\",{className:\"service-createdBy\",children:/*#__PURE__*/_jsx(\"h5\",{children:element.created_by})}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions-div\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"actions-items\",src:rocket,alt:\"deploy\"}),/*#__PURE__*/_jsx(\"img\",{id:\"actions-items\",onClick:handleDelete,src:del,alt:\"delete\"}),/*#__PURE__*/_jsx(\"img\",{id:\"actions-items\",onClick:handleChange,src:pen,alt:\"edit\"}),/*#__PURE__*/_jsx(\"img\",{id:\"actions-items\",src:menu,alt:\"menu\"})]})]});}export default Service;","map":{"version":3,"sources":["D:/weeve/client/src/components/service/Service.js"],"names":["React","Service","element","setAlert","update","name","modified","Date","toLocaleString","substring","console","log","body","fetch","id","method","headers","JSON","stringify","data","json","response","handleChange","value","prompt","alert","handleDelete","toUpperCase","created","created_by","rocket","del","pen","menu"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./service.css\";\r\nimport rocket from \"./rocket-icon.svg\";\r\nimport del from \"./delete-icon.svg\";\r\nimport pen from \"./menu-designer.svg\";\r\nimport menu from \"./menu-icon.svg\";\r\n\r\nfunction Service({ element, setAlert }) {\r\n  const update = async (name) => {\r\n    let modified = new Date().toLocaleString().substring(0, 8);\r\n    console.log(modified);\r\n    const body = { name, modified };\r\n    const data = await fetch(`/services/${element.id}`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(body),\r\n    });\r\n    const response = await data.json();\r\n    console.log(response);\r\n  };\r\n\r\n  const handleChange = () => {\r\n    let value = prompt(\"Enter service name...\");\r\n    if (!value) return;\r\n    update(value);\r\n    alert(\"value updated\");\r\n    setAlert(value);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const data = await fetch(`/services/${element.id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    const response = await data.json();\r\n    console.log(response);\r\n    setAlert(element.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"service\">\r\n      <div className=\"service-name\">\r\n        <h4>{element.name.toUpperCase()}</h4>\r\n      </div>\r\n\r\n      <div className=\"service-created\">\r\n        <h5>{element.created.substring(0, 10)}</h5>\r\n      </div>\r\n\r\n      <div className=\"service-modified\">\r\n        <h5>\r\n          {element.modified === null ? \"-\" : element.modified.substring(0, 10)}\r\n        </h5>\r\n      </div>\r\n\r\n      <div className=\"service-createdBy\">\r\n        <h5>{element.created_by}</h5>\r\n      </div>\r\n\r\n      <div className=\"actions-div\">\r\n        <img id=\"actions-items\" src={rocket} alt=\"deploy\" />\r\n        <img id=\"actions-items\" onClick={handleDelete} src={del} alt=\"delete\" />\r\n        <img id=\"actions-items\" onClick={handleChange} src={pen} alt=\"edit\" />\r\n        <img id=\"actions-items\" src={menu} alt=\"menu\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Service;\r\n"]},"metadata":{},"sourceType":"module"}